webpackJsonp([4],{90:16,95:function(t,e,a){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var n=a(4),u=r(n),s=a(12),c=r(s),i=a(5),l=r(i),o=a(8),d=r(o),f=a(7),p=r(f),h=a(6),y=r(h),v=a(1),w=r(v),g=a(10),m=r(g),x=function(t,e){var a={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(a[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&(a[r[n]]=t[r[n]]);return a},b=function(t){function e(){(0,l["default"])(this,e);var t=(0,p["default"])(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return t.handleClick=function(){var e=t.props,a=e.checked,r=e.onChange;r&&r(!a)},t}return(0,y["default"])(e,t),(0,d["default"])(e,[{key:"render",value:function(){var t,e=this.props,a=e.prefixCls,r=void 0===a?"ant-tag":a,n=e.className,s=e.checked,i=x(e,["prefixCls","className","checked"]),l=(0,m["default"])(r,(t={},(0,c["default"])(t,r+"-checkable",!0),(0,c["default"])(t,r+"-checkable-checked",s),t),n);return delete i.onChange,w["default"].createElement("div",(0,u["default"])({},i,{className:l,onClick:this.handleClick}))}}]),e}(w["default"].Component);e["default"]=b,t.exports=e["default"]},96:function(t,e,a){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var n=a(4),u=r(n),s=a(12),c=r(s),i=a(5),l=r(i),o=a(8),d=r(o),f=a(7),p=r(f),h=a(6),y=r(h),v=a(1),w=r(v),g=a(13),m=r(g),x=a(73),b=r(x),k=a(10),_=r(k),C=a(68),O=r(C),M=a(11),L=r(M),P=a(24),j=r(P),S=a(95),E=r(S),N=function(t,e){var a={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(a[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&(a[r[n]]=t[r[n]]);return a},q=function(t){function e(t){(0,l["default"])(this,e);var a=(0,p["default"])(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return a.close=function(t){var e=a.props.onClose;if(e&&e(t),!t.defaultPrevented){var r=m["default"].findDOMNode(a);r.style.width=r.getBoundingClientRect().width+"px",r.style.width=r.getBoundingClientRect().width+"px",a.setState({closing:!0})}},a.animationEnd=function(t,e){if(!e&&!a.state.closed){a.setState({closed:!0,closing:!1});var r=a.props.afterClose;r&&r()}},a.state={closing:!1,closed:!1},a}return(0,y["default"])(e,t),(0,d["default"])(e,[{key:"isPresetColor",value:function(t){return/^(pink|red|yellow|orange|cyan|green|blue|purple)(-inverse)?$/.test(t)}},{key:"render",value:function(){var t,e=this.props,a=e.prefixCls,r=e.closable,n=e.color,s=e.className,i=e.children,l=e.style,o=N(e,["prefixCls","closable","color","className","children","style"]),d=r?w["default"].createElement(j["default"],{type:"cross",onClick:this.close}):"",f=this.isPresetColor(n),p=(0,_["default"])(a,(t={},(0,c["default"])(t,a+"-"+n,f),(0,c["default"])(t,a+"-has-color",n&&!f),(0,c["default"])(t,a+"-close",this.state.closing),t),s),h=(0,O["default"])(o,["onClose","afterClose"]),y=(0,L["default"])({backgroundColor:n&&!f?n:null},l),v=this.state.closed?null:w["default"].createElement("div",(0,u["default"])({"data-show":!this.state.closing},h,{className:p,style:y}),w["default"].createElement("span",{className:a+"-text"},i),d);return w["default"].createElement(b["default"],{component:"",showProp:"data-show",transitionName:a+"-zoom",transitionAppear:!0,onEnd:this.animationEnd},v)}}]),e}(w["default"].Component);e["default"]=q,q.CheckableTag=E["default"],q.defaultProps={prefixCls:"ant-tag",closable:!1},t.exports=e["default"]},97:[1318,90],140:function(t,e,a){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.edit_cate=e.new_cate=e.tagslist=e.catelist=e.uploadCallback=e.update=e.up=e.down=e.remove=e.create=e.query=void 0;var n=a(41),u=r(n),s=a(141),c=r(s),i=(e.query=function(){var t=(0,c["default"])(u["default"].mark(function e(t){return u["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.get)("/api/article/lists",{data:t}));case 1:case"end":return e.stop()}},e,this)}));return function(e){return t.apply(this,arguments)}}(),e.create=function(){var t=(0,c["default"])(u["default"].mark(function e(t){return u["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.post)("/api/article/create",{data:t}));case 1:case"end":return e.stop()}},e,this)}));return function(e){return t.apply(this,arguments)}}(),e.remove=function(){var t=(0,c["default"])(u["default"].mark(function e(t){return u["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.post)("/api/article/del",{data:t}));case 1:case"end":return e.stop()}},e,this)}));return function(e){return t.apply(this,arguments)}}(),e.down=function(){var t=(0,c["default"])(u["default"].mark(function e(t){return u["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.post)("/api/article/down",{data:t}));case 1:case"end":return e.stop()}},e,this)}));return function(e){return t.apply(this,arguments)}}(),e.up=function(){var t=(0,c["default"])(u["default"].mark(function e(t){return u["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.post)("/api/article/up",{data:t}));case 1:case"end":return e.stop()}},e,this)}));return function(e){return t.apply(this,arguments)}}(),e.update=function(){var t=(0,c["default"])(u["default"].mark(function e(t){return u["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.post)("/api/article/edit",{data:t}));case 1:case"end":return e.stop()}},e,this)}));return function(e){return t.apply(this,arguments)}}(),e.uploadCallback=function(){var t=(0,c["default"])(u["default"].mark(function e(t){var a;return u["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=new FormData,a.append("file",t),e.abrupt("return",l["default"].post(o.apiURL+"/api/article/upload",a).then(function(t){return{data:{link:o.imgURL+t.data.data.path}}}));case 3:case"end":return e.stop()}},e,this)}));return function(e){return t.apply(this,arguments)}}(),e.catelist=function(){var t=(0,c["default"])(u["default"].mark(function e(){return u["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,d.get)("/api/category/list"));case 1:case"end":return t.stop()}},e,this)}));return function(){return t.apply(this,arguments)}}(),e.tagslist=function(){var t=(0,c["default"])(u["default"].mark(function e(){return u["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,d.get)("/api/tags/list"));case 1:case"end":return t.stop()}},e,this)}));return function(){return t.apply(this,arguments)}}(),e.new_cate=function(){var t=(0,c["default"])(u["default"].mark(function e(t){return u["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.post)("/api/category/new",{data:t}));case 1:case"end":return e.stop()}},e,this)}));return function(e){return t.apply(this,arguments)}}(),e.edit_cate=function(){var t=(0,c["default"])(u["default"].mark(function e(t){return u["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.post)("/api/category/edit",{data:t}));case 1:case"end":return e.stop()}},e,this)}));return function(e){return t.apply(this,arguments)}}(),a(180)),l=r(i),o=a(174),d=a(33)},173:function(t,e,a){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var n=a(4),u=r(n),s=(a(126),a(125)),c=r(s),i=a(41),l=r(i),o=a(140);a(112);e["default"]={namespace:"articles",state:{list:[],currentItem:{},modalVisible:!1,modalType:"create",cateModalType:"new",isView:!1,cateList:[],tagsList:[],pagination:{showSizeChanger:!0,showQuickJumper:!0,showTotal:function(t){return"\u5171 "+t+" \u6761"},current:1,total:null,pageSize:null}},subscriptions:{setup:function(t){var e=t.dispatch,a=t.history;return a.listen(function(t){"/articles/list"===t.pathname||"/articles"===t.pathname?(e({type:"query",payload:t.query}),e({type:"cateList"}),e({type:"tagsList"})):"/articles/category"===t.pathname?e({type:"cateList"}):"/articles/tag"===t.pathname&&e({type:"tagsList"})})}},effects:{query:l["default"].mark(function d(t,e){var a,r,n=t.payload,u=e.call,s=e.put;return l["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u(o.query,n);case 2:if(a=t.sent,r=a.data,!r){t.next=7;break}return t.next=7,s({type:"updateState",payload:{list:r.data,pagination:{total:parseInt(r.pagination.total,10),current:parseInt(r.pagination.current,10)||1,pageSize:parseInt(n.pageSize,10)||10}}});case 7:case"end":return t.stop()}},d,this)}),reload:l["default"].mark(function f(t,e){var a,r=(t.action,e.put),n=e.select;return l["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(function(t){return t.articles.pagination.current});case 2:return a=t.sent,t.next=5,r({type:"query",payload:{page:a}});case 5:case"end":return t.stop()}},f,this)}),create:l["default"].mark(function p(t,e){var a,r,n=t.payload,u=e.call,s=e.put;return l["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s({type:"hideModal"});case 2:return t.next=4,u(o.create,n);case 4:if(a=t.sent,r=a.data,!r.success){t.next=10;break}return c["default"].success("save success",1),t.next=10,s({type:"reload"});case 10:case"end":return t.stop()}},p,this)}),update:l["default"].mark(function h(t,e){var a,r,n,s=t.payload,i=e.select,d=e.call,f=e.put;return l["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f({type:"hideModal"});case 2:return t.next=4,i(function(t){var e=t.articles;return e.currentItem._id});case 4:return a=t.sent,r=(0,u["default"])({},s,{id:a}),t.next=8,d(o.update,r);case 8:if(n=t.sent,!n.data.success){t.next=13;break}return c["default"].success("update success",1),t.next=13,f({type:"reload"});case 13:case"end":return t.stop()}},h,this)}),remove:l["default"].mark(function y(t,e){var a,r=t.payload,n=e.call,u=e.put;return l["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(o.remove,{id:r});case 2:if(a=t.sent,!a.data.success){t.next=6;break}return t.next=6,u({type:"reload"});case 6:case"end":return t.stop()}},y,this)}),down:l["default"].mark(function v(t,e){var a,r=t.payload,n=e.call,u=e.put;return l["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(o.down,{id:r});case 2:if(a=t.sent,!a.data.success){t.next=6;break}return t.next=6,u({type:"reload"});case 6:case"end":return t.stop()}},v,this)}),up:l["default"].mark(function w(t,e){var a,r=t.payload,n=e.call,u=e.put;return l["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(o.up,{id:r});case 2:if(a=t.sent,!a.data.success){t.next=6;break}return t.next=6,u({type:"reload"});case 6:case"end":return t.stop()}},w,this)}),tagsList:l["default"].mark(function g(t,e){var a,r=(t.payload,e.call),n=e.put;return l["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r(o.tagslist);case 2:return a=t.sent,t.next=5,n({type:"tags",payload:{tagsList:a.data.tagslist}});case 5:case"end":return t.stop()}},g,this)}),cateList:l["default"].mark(function m(t,e){var a,r=(t.payload,e.call),n=e.put;return l["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r(o.catelist);case 2:return a=t.sent,t.next=5,n({type:"cate",payload:{cateList:a.data.catelist}});case 5:case"end":return t.stop()}},m,this)}),new_cate:l["default"].mark(function x(t,e){var a,r,n=t.payload,u=e.call,s=e.put;return l["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s({type:"hideModal"});case 2:return t.next=4,u(o.new_cate,n);case 4:if(a=t.sent,r=a.data,!r.success){t.next=12;break}return c["default"].success(r.message,1),t.next=10,s({type:"cateList"});case 10:t.next=13;break;case 12:c["default"].error(r.message);case 13:case"end":return t.stop()}},x,this)}),edit_cate:l["default"].mark(function b(t,e){var a,r,n,s=t.payload,i=e.select,d=e.call,f=e.put;return l["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f({type:"hideModal"});case 2:return t.next=4,i(function(t){var e=t.articles;return e.currentItem._id});case 4:return a=t.sent,r=(0,u["default"])({},s,{id:a}),t.next=8,d(o.edit_cate,r);case 8:if(n=t.sent,!n.data.success){t.next=13;break}return c["default"].success(n.data.message,1),t.next=13,f({type:"cateList"});case 13:case"end":return t.stop()}},b,this)})},reducers:{updateState:function(t,e){var a=e.payload,r=a.list,n=a.pagination;return(0,u["default"])({},t,{list:r,pagination:(0,u["default"])({},t.pagination,n)})},showModal:function(t,e){return(0,u["default"])({},t,e.payload,{modalVisible:!0})},hideModal:function(t){return(0,u["default"])({},t,{modalVisible:!1})},cate:function(t,e){var a=e.payload.cateList;return(0,u["default"])({},t,{cateList:a})},tags:function(t,e){var a=e.payload.tagsList;return(0,u["default"])({},t,{tagsList:a})}}},t.exports=e["default"]},1277:function(t,e,a){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function n(t){var e=(t.location,t.dispatch,t.articles),a=(t.loading,e.tagsList),r=["pink","red","orange","green","cyan","blue","purple","yellow"],n=a.map(function(t){var e=r[Math.floor(Math.random()*r.length)];return i["default"].createElement(s["default"],{key:t._id,color:e,style:{marginBottom:3}},"#",t.name)});return i["default"].createElement("div",{style:{width:500,background:"rgb(187, 234, 234)",padding:20,borderRadius:6}},n)}Object.defineProperty(e,"__esModule",{value:!0});var u=(a(97),a(96)),s=r(u),c=a(1),i=r(c),l=a(3),o=r(l),d=a(91);n.PropTypes={articles:o["default"].object,location:o["default"].object,dispatch:o["default"].func,loading:o["default"].bool},e["default"]=(0,d.connect)(function(t){var e=t.articles,a=t.loading;return{articles:e,loading:a.models.articles}})(n),t.exports=e["default"]}});